<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Nutrition Guide - Settings</title>
    <link rel="stylesheet" href="styles/tokens.css" />
    <link rel="stylesheet" href="styles/base.css" />
    <link rel="stylesheet" href="styles/utilities.css" />
    <link rel="stylesheet" href="styles/components.css" />
    <link rel="stylesheet" href="styles/layouts.css" />
    <link rel="stylesheet" href="styles/themes.css" />
    <link rel="stylesheet" href="styles/print.css" />
  </head>
  <body>
    <div class="app">
      <!-- Sidebar -->
      <aside class="app__sidebar sidebar">
        <nav class="sidebar__nav">
          <a href="index.html" class="sidebar__nav-item">
            <span class="sidebar__nav-icon">📊</span>
            Dashboard
          </a>
          <a href="log-meal.html" class="sidebar__nav-item">
            <span class="sidebar__nav-icon">📸</span>
            Log Meal
          </a>
          <a href="diary.html" class="sidebar__nav-item">
            <span class="sidebar__nav-icon">📅</span>
            Diary
          </a>
          <a href="insights.html" class="sidebar__nav-item">
            <span class="sidebar__nav-icon">📈</span>
            Insights
          </a>
          <a href="integrations.html" class="sidebar__nav-item">
            <span class="sidebar__nav-icon">🔗</span>
            Integrations
          </a>
          <a
            href="settings.html"
            class="sidebar__nav-item sidebar__nav-item--active"
          >
            <span class="sidebar__nav-icon">⚙️</span>
            Settings
          </a>
          <a href="about.html" class="sidebar__nav-item">
            <span class="sidebar__nav-icon">ℹ️</span>
            About
          </a>
        </nav>

        <!-- Theme Toggle -->
        <div class="theme-switcher">
          <span class="theme-switcher__label">Theme:</span>
          <div class="theme-switcher__options">
            <button
              class="theme-switcher__option theme-switcher__option--active"
              data-theme="light"
            >
              🌞
            </button>
            <button class="theme-switcher__option" data-theme="dark">🌙</button>
            <button class="theme-switcher__option" data-theme="high-contrast">
              🔍
            </button>
          </div>
        </div>
      </aside>

      <!-- Header -->
      <header class="app__header header">
        <div class="container">
          <div class="header__content">
            <h1 class="header__logo">🍎 AI Nutrition Guide</h1>
            <div class="header__actions">
              <span>Customize your experience</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="app__main main">
        <div class="container">
          <div class="settings">
            <!-- Settings Header -->
            <div class="settings__header">
              <h2>Settings & Preferences</h2>
              <p>
                Customize your nutrition tracking experience and manage your
                data
              </p>
            </div>

            <!-- Units & Measurements -->
            <div class="settings__section">
              <h3 class="settings__section-title">📏 Units & Measurements</h3>

              <div class="settings__form-grid">
                <div class="form-group">
                  <label class="form-label">Weight Units</label>
                  <select class="form-select">
                    <option>Kilograms (kg)</option>
                    <option selected>Pounds (lbs)</option>
                  </select>
                </div>

                <div class="form-group">
                  <label class="form-label">Volume Units</label>
                  <select class="form-select">
                    <option selected>Milliliters (ml)</option>
                    <option>Fluid ounces (fl oz)</option>
                    <option>Cups</option>
                  </select>
                </div>

                <div class="form-group">
                  <label class="form-label">Energy Units</label>
                  <select class="form-select">
                    <option selected>Calories (kcal)</option>
                    <option>Kilojoules (kJ)</option>
                  </select>
                </div>

                <div class="form-group">
                  <label class="form-label">Distance Units</label>
                  <select class="form-select">
                    <option selected>Kilometers (km)</option>
                    <option>Miles (mi)</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Nutrition Goals -->
            <div class="settings__section">
              <h3 class="settings__section-title">🎯 Nutrition Goals</h3>

              <div class="settings__form-grid">
                <div class="form-group">
                  <label class="form-label">Daily Calorie Target</label>
                  <input
                    type="number"
                    class="form-input"
                    value="2000"
                    min="1200"
                    max="5000"
                  />
                  <div class="text-sm text-text-muted mt-1">
                    Recommended: 1,800-2,200 for most adults
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Protein Target (g/day)</label>
                  <input
                    type="number"
                    class="form-input"
                    value="80"
                    min="40"
                    max="200"
                  />
                  <div class="text-sm text-text-muted mt-1">
                    Recommended: 0.8-1.2g per kg body weight
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Carbohydrate Target (g/day)</label>
                  <input
                    type="number"
                    class="form-input"
                    value="250"
                    min="50"
                    max="400"
                  />
                  <div class="text-sm text-text-muted mt-1">
                    45-65% of total calories
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Fat Target (g/day)</label>
                  <input
                    type="number"
                    class="form-input"
                    value="67"
                    min="30"
                    max="100"
                  />
                  <div class="text-sm text-text-muted mt-1">
                    20-35% of total calories
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Fiber Target (g/day)</label>
                  <input
                    type="number"
                    class="form-input"
                    value="25"
                    min="20"
                    max="50"
                  />
                  <div class="text-sm text-text-muted mt-1">
                    Recommended: 25-30g for adults
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Water Target (ml/day)</label>
                  <input
                    type="number"
                    class="form-input"
                    value="2000"
                    min="1000"
                    max="4000"
                  />
                  <div class="text-sm text-text-muted mt-1">
                    Recommended: 2-3 liters daily
                  </div>
                </div>
              </div>
            </div>

            <!-- Dietary Preferences -->
            <div class="settings__section">
              <h3 class="settings__section-title">🥗 Dietary Preferences</h3>

              <div class="form-group">
                <label class="form-label">Diet Type</label>
                <div class="radio-group">
                  <label class="radio-item">
                    <input type="radio" name="diet" value="balanced" checked />
                    <span
                      >Balanced - I eat a variety of foods in moderation</span
                    >
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="diet" value="vegetarian" />
                    <span>Vegetarian - No meat, but I eat dairy and eggs</span>
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="diet" value="vegan" />
                    <span>Vegan - Plant-based only, no animal products</span>
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="diet" value="high-protein" />
                    <span>High-Protein - I focus on protein-rich foods</span>
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="diet" value="low-carb" />
                    <span>Low-Carb - I limit carbohydrates</span>
                  </label>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">Food Allergies & Exclusions</label>
                <div class="chip-filters">
                  <button class="chip-filter">Nuts</button>
                  <button class="chip-filter chip-filter--selected">
                    Dairy
                  </button>
                  <button class="chip-filter">Gluten</button>
                  <button class="chip-filter">Eggs</button>
                  <button class="chip-filter">Shellfish</button>
                  <button class="chip-filter">+ Add</button>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">Cuisine Preferences</label>
                <div class="chip-filters">
                  <button class="chip-filter chip-filter--selected">
                    Indian
                  </button>
                  <button class="chip-filter chip-filter--selected">
                    Mediterranean
                  </button>
                  <button class="chip-filter">Continental</button>
                  <button class="chip-filter chip-filter--selected">
                    Asian
                  </button>
                  <button class="chip-filter">Mexican</button>
                  <button class="chip-filter">+ Add</button>
                </div>
              </div>
            </div>

            <!-- Activity Level -->
            <div class="settings__section">
              <h3 class="settings__section-title">🏃‍♀️ Activity Level</h3>

              <div class="form-group">
                <label class="form-label"
                  >How active are you on a typical week?</label
                >
                <div class="radio-group">
                  <label class="radio-item">
                    <input type="radio" name="activity" value="sedentary" />
                    <span
                      ><strong>Sedentary</strong> - Little to no exercise, desk
                      job</span
                    >
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="activity" value="light" checked />
                    <span
                      ><strong>Lightly Active</strong> - Light exercise 1-3
                      days/week</span
                    >
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="activity" value="moderate" />
                    <span
                      ><strong>Moderately Active</strong> - Moderate exercise
                      3-5 days/week</span
                    >
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="activity" value="very" />
                    <span
                      ><strong>Very Active</strong> - Hard exercise 6-7
                      days/week</span
                    >
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="activity" value="athlete" />
                    <span
                      ><strong>Athlete</strong> - Very hard exercise, physical
                      job</span
                    >
                  </label>
                </div>
              </div>
            </div>

            <!-- Notifications -->
            <div class="settings__section">
              <h3 class="settings__section-title">🔔 Notifications</h3>

              <div class="settings__form-grid">
                <div class="form-group">
                  <label class="form-label">Meal Reminders</label>
                  <div class="flex items-center gap-3">
                    <label class="toggle">
                      <input type="checkbox" class="toggle__input" checked />
                      <span class="toggle__slider"></span>
                    </label>
                    <span>Remind me to log meals</span>
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Hydration Reminders</label>
                  <div class="flex items-center gap-3">
                    <label class="toggle">
                      <input type="checkbox" class="toggle__input" checked />
                      <span class="toggle__slider"></span>
                    </label>
                    <span>Remind me to drink water</span>
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Goal Alerts</label>
                  <div class="flex items-center gap-3">
                    <label class="toggle">
                      <input type="checkbox" class="toggle__input" checked />
                      <span class="toggle__slider"></span>
                    </label>
                    <span>Alert when approaching daily limits</span>
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Weekly Insights</label>
                  <div class="flex items-center gap-3">
                    <label class="toggle">
                      <input type="checkbox" class="toggle__input" />
                      <span class="toggle__slider"></span>
                    </label>
                    <span>Send weekly nutrition summary</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Privacy & Data -->
            <div class="settings__section">
              <h3 class="settings__section-title">🔒 Privacy & Data</h3>

              <div class="nudge-banner">
                <div class="nudge-banner__content">
                  <span class="nudge-banner__icon">🔒</span>
                  <span class="nudge-banner__text">
                    <strong>Your privacy matters:</strong> All data is stored
                    locally on your device. Photos are never uploaded to
                    external servers in this prototype version.
                  </span>
                </div>
              </div>

              <div class="settings__form-grid">
                <div class="form-group">
                  <label class="form-label">Data Export</label>
                  <div class="flex gap-3">
                    <button class="btn btn--outline">Export CSV</button>
                    <button class="btn btn--outline">Export JSON</button>
                  </div>
                  <div class="text-sm text-text-muted mt-1">
                    Download your nutrition data for backup or analysis
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Data Deletion</label>
                  <button class="btn btn--outline">Clear All Data</button>
                  <div class="text-sm text-text-muted mt-1">
                    This will permanently delete all your logged meals and
                    settings
                  </div>
                </div>

                <div class="form-group">
                  <label class="form-label">Analytics</label>
                  <div class="flex items-center gap-3">
                    <label class="toggle">
                      <input type="checkbox" class="toggle__input" checked />
                      <span class="toggle__slider"></span>
                    </label>
                    <span
                      >Allow anonymous usage analytics (no personal data)</span
                    >
                  </div>
                </div>
              </div>
            </div>

            <!-- Account Settings -->
            <div class="settings__section">
              <h3 class="settings__section-title">👤 Account Settings</h3>

              <div class="settings__form-grid">
                <div class="form-group">
                  <label class="form-label">Display Name</label>
                  <input type="text" class="form-input" value="John Doe" />
                </div>

                <div class="form-group">
                  <label class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-input"
                    value="john.doe@example.com"
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">Age</label>
                  <input
                    type="number"
                    class="form-input"
                    value="30"
                    min="13"
                    max="120"
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">Gender</label>
                  <select class="form-select">
                    <option>Prefer not to say</option>
                    <option selected>Male</option>
                    <option>Female</option>
                    <option>Non-binary</option>
                    <option>Other</option>
                  </select>
                </div>

                <div class="form-group">
                  <label class="form-label">Height (cm)</label>
                  <input
                    type="number"
                    class="form-input"
                    value="175"
                    min="100"
                    max="250"
                  />
                </div>

                <div class="form-group">
                  <label class="form-label">Current Weight (kg)</label>
                  <input
                    type="number"
                    class="form-input"
                    value="70"
                    min="30"
                    max="300"
                  />
                </div>
              </div>
            </div>

            <!-- Actions -->
            <div class="settings__actions">
              <button class="btn btn--outline">Reset to Defaults</button>
              <button class="btn btn--primary">Save Changes</button>
            </div>
          </div>
        </div>
      </main>

      <!-- Footer -->
      <footer class="app__footer footer">
        <div class="container">
          <div class="footer__content">
            <div class="footer__links">
              <a href="about.html" class="footer__link">About</a>
              <a href="settings.html" class="footer__link">Settings</a>
              <a href="#" class="footer__link">Help</a>
            </div>
            <p>AI Nutrition Guide v1.0 • Photos stay on your device</p>
          </div>
        </div>
      </footer>
    </div>

    <!-- Theme Persistence Button -->
    <div class="theme-persistence">
      <button class="theme-persistence__button" onclick="toggleTheme()">
        <span class="theme-persistence__icon">🌙</span>
      </button>
    </div>

    <script>
      // Theme switching functionality
      const themeSwitcher = document.querySelector(".theme-switcher");
      const themeOptions = themeSwitcher.querySelectorAll(
        ".theme-switcher__option"
      );
      const html = document.documentElement;
      const themePersistenceBtn = document.querySelector(
        ".theme-persistence__button"
      );
      const themePersistenceIcon = themePersistenceBtn.querySelector(
        ".theme-persistence__icon"
      );

      // Load saved theme
      const savedTheme = localStorage.getItem("theme") || "light";
      html.setAttribute("data-theme", savedTheme);
      updateThemeUI(savedTheme);

      // Theme switcher event listeners
      themeOptions.forEach((option) => {
        option.addEventListener("click", () => {
          const theme = option.dataset.theme;
          html.setAttribute("data-theme", theme);
          localStorage.setItem("theme", theme);
          updateThemeUI(theme);
        });
      });

      function updateThemeUI(theme) {
        // Update theme switcher
        themeOptions.forEach((option) => {
          option.classList.remove("theme-switcher__option--active");
          if (option.dataset.theme === theme) {
            option.classList.add("theme-switcher__option--active");
          }
        });

        // Update persistence button
        if (theme === "dark") {
          themePersistenceIcon.textContent = "🌞";
        } else if (theme === "high-contrast") {
          themePersistenceIcon.textContent = "🔍";
        } else {
          themePersistenceIcon.textContent = "🌙";
        }
      }

      function toggleTheme() {
        const currentTheme = html.getAttribute("data-theme");
        let newTheme;

        if (currentTheme === "light") {
          newTheme = "dark";
        } else if (currentTheme === "dark") {
          newTheme = "high-contrast";
        } else {
          newTheme = "light";
        }

        html.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        updateThemeUI(newTheme);
      }

      // Chip filter functionality
      const chipFilters = document.querySelectorAll(".chip-filter");
      chipFilters.forEach((chip) => {
        chip.addEventListener("click", () => {
          if (chip.textContent === "+ Add") {
            const newItem = prompt("Enter new item:");
            if (newItem && newItem.trim()) {
              const newChip = document.createElement("button");
              newChip.className = "chip-filter";
              newChip.textContent = newItem.trim();
              chip.parentNode.insertBefore(newChip, chip);

              // Add event listener to new chip
              newChip.addEventListener("click", () => {
                newChip.classList.toggle("chip-filter--selected");
              });
            }
          } else {
            chip.classList.toggle("chip-filter--selected");
          }
        });
      });

      // Save changes functionality
      const saveBtn = document.querySelector(".btn--primary");
      saveBtn.addEventListener("click", () => {
        alert("Settings saved successfully!");
      });

      // Reset to defaults functionality
      const resetBtn = document.querySelector(".btn--outline");
      resetBtn.addEventListener("click", () => {
        if (
          confirm(
            "Are you sure you want to reset all settings to defaults? This cannot be undone."
          )
        ) {
          alert("Settings reset to defaults!");
          // Here you would reset all form values
        }
      });

      // Data export functionality
      const exportCsvBtn = document.querySelector(
        'button:contains("Export CSV")'
      );
      const exportJsonBtn = document.querySelector(
        'button:contains("Export JSON")'
      );

      if (exportCsvBtn) {
        exportCsvBtn.addEventListener("click", () => {
          alert(
            "CSV export started! In the real app, this would download your nutrition data as a CSV file."
          );
        });
      }

      if (exportJsonBtn) {
        exportJsonBtn.addEventListener("click", () => {
          alert(
            "JSON export started! In the real app, this would download your nutrition data as a JSON file."
          );
        });
      }

      // Clear data functionality
      const clearDataBtn = document.querySelector(
        'button:contains("Clear All Data")'
      );
      if (clearDataBtn) {
        clearDataBtn.addEventListener("click", () => {
          if (
            confirm(
              "⚠️ WARNING: This will permanently delete ALL your data including:\n\n• All logged meals\n• Nutrition history\n• Settings and preferences\n• Progress data\n\nThis action cannot be undone. Are you absolutely sure?"
            )
          ) {
            alert("All data has been cleared. The app will now restart.");
            // Here you would clear all data and restart the app
          }
        });
      }

      // Toggle functionality
      const toggles = document.querySelectorAll(".toggle__input");
      toggles.forEach((toggle) => {
        toggle.addEventListener("change", (e) => {
          const settingName = e.target
            .closest(".form-group")
            .querySelector(".form-label").textContent;
          const isEnabled = e.target.checked;
          console.log(`${settingName}: ${isEnabled ? "enabled" : "disabled"}`);
        });
      });
    </script>
  </body>
</html>
