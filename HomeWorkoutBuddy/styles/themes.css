/* Theme Styles for Sleep Coach */

/* ===== LIGHT THEME (DEFAULT) ===== */

.theme--light {
  --color-background: #F6F8FB;
  --color-surface: #FFFFFF;
  --color-text: #0F172A;
  --color-text-secondary: #64748B;
  --color-accent: #5B7BD5;
  --color-accent-hover: #4C6BC7;
  --color-secondary: #7AC3B2;
  --color-secondary-hover: #6BB3A2;
  --color-warning: #F59E0B;
  --color-info: #38BDF8;
  --color-success: #10B981;
  --color-error: #EF4444;
  --color-border: #E2E8F0;
  --color-border-light: #F1F5F9;
}

/* ===== DARK THEME ===== */

.theme--dark {
  --color-background: #0B1020;
  --color-surface: #121826;
  --color-text: #E5E7EB;
  --color-text-secondary: #9CA3AF;
  --color-accent: #5B7BD5;
  --color-accent-hover: #4C6BC7;
  --color-secondary: #7AC3B2;
  --color-secondary-hover: #6BB3A2;
  --color-warning: #F59E0B;
  --color-info: #38BDF8;
  --color-success: #10B981;
  --color-error: #EF4444;
  --color-border: #1F2937;
  --color-border-light: #374151;
}

/* ===== HIGH CONTRAST THEME ===== */

.theme--high-contrast {
  --color-background: #FFFFFF;
  --color-surface: #FFFFFF;
  --color-text: #000000;
  --color-text-secondary: #333333;
  --color-accent: #0000FF;
  --color-accent-hover: #0000CC;
  --color-secondary: #006600;
  --color-secondary-hover: #004400;
  --color-warning: #CC6600;
  --color-info: #0066CC;
  --color-success: #006600;
  --color-error: #CC0000;
  --color-border: #000000;
  --color-border-light: #333333;
}

/* ===== REDUCED MOTION THEME ===== */

.theme--reduced-motion {
  --transition-fast: 0ms;
  --transition-normal: 0ms;
  --transition-slow: 0ms;
}

.theme--reduced-motion *,
.theme--reduced-motion *::before,
.theme--reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* ===== THEME TRANSITIONS ===== */

* {
  transition: background-color var(--transition-normal),
              color var(--transition-normal),
              border-color var(--transition-normal),
              box-shadow var(--transition-normal);
}

/* ===== THEME-SPECIFIC COMPONENT OVERRIDES ===== */

/* Dark Theme Overrides */
.theme--dark .bedtime-pill {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

.theme--dark .routine-step:hover {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.theme--dark .sound-card:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
}

.theme--dark .card:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
}

.theme--dark .preset-card:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
}

/* High Contrast Theme Overrides */
.theme--high-contrast .bedtime-pill {
  border: 2px solid var(--color-accent);
}

.theme--high-contrast .routine-step {
  border: 2px solid var(--color-border);
}

.theme--high-contrast .sound-card {
  border: 2px solid var(--color-border);
}

.theme--high-contrast .card {
  border: 2px solid var(--color-border);
}

.theme--high-contrast .preset-card {
  border: 2px solid var(--color-border);
}

.theme--high-contrast .form-input:focus {
  outline: 3px solid var(--color-accent);
  outline-offset: 2px;
}

.theme--high-contrast .btn:focus {
  outline: 3px solid var(--color-accent);
  outline-offset: 2px;
}

.theme--high-contrast .nav-link:focus {
  outline: 3px solid var(--color-accent);
  outline-offset: 2px;
}

/* ===== THEME TOGGLE STYLES ===== */

.theme-toggle__btn[data-theme="light"] {
  background-color: var(--color-accent);
  color: white;
}

.theme-toggle__btn[data-theme="dark"] {
  background-color: var(--color-border-light);
  color: var(--color-text);
}

.theme-toggle__btn[data-theme="high-contrast"] {
  background-color: var(--color-secondary);
  color: white;
}

/* ===== THEME PREFERENCE DETECTION ===== */

@media (prefers-color-scheme: dark) {
  .theme--auto {
    --color-background: #0B1020;
    --color-surface: #121826;
    --color-text: #E5E7EB;
    --color-text-secondary: #9CA3AF;
    --color-border: #1F2937;
    --color-border-light: #374151;
  }
}

@media (prefers-color-scheme: light) {
  .theme--auto {
    --color-background: #F6F8FB;
    --color-surface: #FFFFFF;
    --color-text: #0F172A;
    --color-text-secondary: #64748B;
    --color-border: #E2E8F0;
    --color-border-light: #F1F5F9;
  }
}

@media (prefers-reduced-motion: reduce) {
  .theme--auto {
    --transition-fast: 0ms;
    --transition-normal: 0ms;
    --transition-slow: 0ms;
  }
  
  .theme--auto *,
  .theme--auto *::before,
  .theme--auto *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ===== THEME SWITCHING ANIMATIONS ===== */

.theme-transition {
  transition: background-color 0.3s ease,
              color 0.3s ease,
              border-color 0.3s ease,
              box-shadow 0.3s ease;
}

/* ===== ACCESSIBILITY THEME ENHANCEMENTS ===== */

/* Focus indicators for all themes */
.theme--light .focus-visible:focus,
.theme--dark .focus-visible:focus,
.theme--high-contrast .focus-visible:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

/* High contrast focus for high contrast theme */
.theme--high-contrast .focus-visible:focus {
  outline: 3px solid var(--color-accent);
  outline-offset: 3px;
}

/* ===== THEME-SPECIFIC PRINT STYLES ===== */

@media print {
  .theme--dark,
  .theme--high-contrast {
    --color-background: #FFFFFF;
    --color-surface: #FFFFFF;
    --color-text: #000000;
    --color-text-secondary: #333333;
    --color-border: #000000;
    --color-border-light: #333333;
  }
  
  .theme--dark *,
  .theme--high-contrast * {
    background-color: #FFFFFF !important;
    color: #000000 !important;
    border-color: #000000 !important;
  }
}

/* ===== THEME PERSISTENCE ===== */

/* Store theme preference in localStorage */
.theme--light,
.theme--dark,
.theme--high-contrast {
  /* These classes will be applied via JavaScript */
}

/* ===== THEME UTILITY CLASSES ===== */

.text-theme-primary {
  color: var(--color-text);
}

.text-theme-secondary {
  color: var(--color-text-secondary);
}

.text-theme-accent {
  color: var(--color-accent);
}

.bg-theme-primary {
  background-color: var(--color-surface);
}

.bg-theme-secondary {
  background-color: var(--color-background);
}

.border-theme-primary {
  border-color: var(--color-border);
}

.border-theme-light {
  border-color: var(--color-border-light);
}

/* ===== THEME CONTRAST UTILITIES ===== */

.contrast-high {
  filter: contrast(1.2);
}

.contrast-medium {
  filter: contrast(1);
}

.contrast-low {
  filter: contrast(0.8);
}

/* ===== THEME SATURATION UTILITIES ===== */

.saturation-high {
  filter: saturate(1.2);
}

.saturation-medium {
  filter: saturate(1);
}

.saturation-low {
  filter: saturate(0.8);
}

/* ===== THEME BRIGHTNESS UTILITIES ===== */

.brightness-high {
  filter: brightness(1.1);
}

.brightness-medium {
  filter: brightness(1);
}

.brightness-low {
  filter: brightness(0.9);
}
